@use "mixins/flexbox" as *;

.garages-container {
  overflow-x:auto;
  overflow-y:hidden;
  width:100vw;
  height:100vh;
  padding:0;

  scroll-behavior:smooth;
  scroll-snap-type:x mandatory;
}

.garages {
  display:flex;
  flex-direction:row;
  flex-wrap:nowrap;
  width:auto;
  height:100vh;
  padding:0;

  $c4:var(--color4);

  .garage {
    flex-shrink:0;
    width:100vw;
    min-width:100vw;
    height:100vh;
    margin:0;
    padding:var(--spacing-vh-lg) var(--spacing-vw-md);
    box-sizing:border-box;

    scroll-snap-align:start;

    border:1px solid var(--border-light);
    border-radius:0;
    background-color:var(--bg-glass);

    backdrop-filter:var(--blur-light);
  }

  .garage-strokes {
    display:grid;
    grid-template-columns:repeat(var(--grid-columns-desktop), 1fr);
    gap:var(--grid-gap);
    margin:var(--spacing-md) 0;
    width:100%;
    min-height:calc(100vh - 180px);

    border-radius:var(--radius-md);
  }

  //===== Input Text
  .garage-strokes .garage-stroke-box {
    width:100%;
    max-width:100%;
    height:100%;
    min-height:450px;
    margin:0;
    padding:var(--spacing-vh-sm) var(--spacing-vw-sm);
    box-sizing:border-box;

    border:1px solid var(--border-strong);
    border-radius:var(--radius-sm);
    background:var(--bg-overlay-normal);
  }

  .garage-strokes {
    // Delete Button
    .clear-area {
      margin:8px 0;

      @include flex(end, center);
    }
    input[type="button"] {
      color:currentcolor;
      border-color:currentcolor;
      background:#0005;
    }
    .garage-stroke-box:nth-child(1) {
      h3, textarea, input[type="button"] {
        color:$c4;
        // border-color: $c4;
      }
    }
    .garage-stroke-box:nth-child(2) {
      h3, textarea, input[type="button"] {
        color:var(--color2);
        border-color:var(--color2);
      }
    }
    .garage-stroke-box:nth-child(3) {
      h3, textarea, input[type="button"] {
        color:var(--color3);
        border-color:var(--color3);
      }
    }
    .garage-stroke-box:nth-child(4) {
      h3, textarea, input[type="button"] {
        color:var(--color1);
        border-color:var(--color1);
      }
    }
  }

  //===== input area
  textarea {
    overflow:auto;
    width:100%;
    max-width:100%;
    height:auto;
    min-height:320px;
    margin:auto;
    padding:.5ch 1ch;
    box-sizing:border-box;

    resize:none;
    transition:.15s;

    border:2px solid currentcolor !important;
    border-radius:8px;
    background-color:rgba(#000, .35);
    // background-color:rgba(currentColor, .4);

    font-family:YakuHanRP, "M PLUS Rounded 1c", "Hiragino Sans",
    "Hiragino Kaku Gothic ProN", "Noto Sans JP", Meiryo, sans-serif;
    font-size:.9em;
    // font-size:1em;
    // filter:drop-shadow(1px 2px 1px currentColor);

    filter:drop-shadow(1px 1px 0px black);
    @include flex(center);
    &:hover {
      border-color:white !important;
      // box-shadow: 0 0 2px #ccc;
      background-color:rgba(#000, .2);
    }
    &:focus, &:focus-visible {
      border:2px solid currentcolor !important;
      background-color:rgba(#000, .5);
      // box-shadow: 0 0 4px #ccc;
    }
  }
}
// ===== Mobile Responsive
@media only screen and (max-width: 1024px) {
  .garages-container {
    padding:80px 12px 24px;
  }

  .garage-strokes {
    grid-template-columns:repeat(2, 1fr) !important;
    gap:12px;
    width:100%;
  }

  .garage-strokes .garage-stroke-box {
    width:100% !important;
    max-width:100%;
    padding:12px;
    box-sizing:border-box;
  }
}

@media only screen and (max-width: 768px) {
  .garages-container {
    overflow-y:auto;
    overflow-x:hidden;
    padding:80px 0 120px;
  }

  .garages {
    flex-direction:column;
    width:100%;
    padding:0;
  }

  .garage {
    margin:0 0 20px 0 !important;
    width:100% !important;
    padding:16px 12px !important;
    border-left:none !important;
    border-right:none !important;
    border-radius:0 !important;
  }

  .garage-strokes {
    display:grid !important;
    grid-template-columns:1fr !important;
    gap:12px !important;
    height:auto !important;
    min-height:auto !important;
    margin:0 !important;
    width:100%;
  }

  .garage-strokes .garage-stroke-box {
    width:100% !important;
    max-width:100%;
    margin:0 !important;
    padding:16px !important;
    border-radius:8px !important;
    box-sizing:border-box;
  }

  textarea {
    min-height:120px !important;
    font-size:1rem !important;
    width:100% !important;
    max-width:100%;
    padding:8px 12px !important;
    box-sizing:border-box;
  }
}

@media only screen and (max-width: 480px) {
  .garages-container {
    padding:80px 0 120px;
  }

  .garage {
    padding:12px 8px !important;
    margin:0 0 16px 0 !important;
  }

  .garage-strokes {
    gap:12px !important;
  }

  .garage-strokes .garage-stroke-box {
    padding:12px !important;
    border-radius:6px !important;
    width:100% !important;
    max-width:100%;
    box-sizing:border-box;
  }

  textarea {
    min-height:100px !important;
    padding:8px 10px !important;
    width:100% !important;
    max-width:100%;
    box-sizing:border-box;
  }

  input[type="button"] {
    font-size:0.85rem !important;
    padding:6px 12px !important;
  }
}
